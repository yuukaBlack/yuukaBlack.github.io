import{e as W,M as D,f as I,o as q,c as G,b as w,g as A,w as x,d as C,i as O,u as B,h as J,r as M,j as z,k as K,T as N,l as Q,_ as X}from"./index-XMwsHOLH.js";var E=!1,v={false:"push",true:"unshift",after:"push",before:"unshift"},S={isPermalinkSymbol:!0};function P(a,e,o,n){var t;if(!E){var l="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";typeof process=="object"&&process&&process.emitWarning?process.emitWarning(l):console.warn(l),E=!0}var s=[Object.assign(new o.Token("link_open","a",1),{attrs:[].concat(e.permalinkClass?[["class",e.permalinkClass]]:[],[["href",e.permalinkHref(a,o)]],Object.entries(e.permalinkAttrs(a,o)))}),Object.assign(new o.Token("html_block","",0),{content:e.permalinkSymbol,meta:S}),new o.Token("link_close","a",-1)];e.permalinkSpace&&o.tokens[n+1].children[v[e.permalinkBefore]](Object.assign(new o.Token("text","",0),{content:" "})),(t=o.tokens[n+1].children)[v[e.permalinkBefore]].apply(t,s)}function L(a){return"#"+a}function U(a){return{}}var Y={class:"header-anchor",symbol:"#",renderHref:L,renderAttrs:U};function T(a){function e(o){return o=Object.assign({},e.defaults,o),function(n,t,l,s){return a(n,o,t,l,s)}}return e.defaults=Object.assign({},Y),e.renderPermalinkImpl=a,e}var H=T(function(a,e,o,n,t){var l,s=[Object.assign(new n.Token("link_open","a",1),{attrs:[].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(a,n)]],e.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(e.renderAttrs(a,n)))}),Object.assign(new n.Token("html_inline","",0),{content:e.symbol,meta:S}),new n.Token("link_close","a",-1)];if(e.space){var i=typeof e.space=="string"?e.space:" ";n.tokens[t+1].children[v[e.placement]](Object.assign(new n.Token(typeof e.space=="string"?"html_inline":"text","",0),{content:i}))}(l=n.tokens[t+1].children)[v[e.placement]].apply(l,s)});Object.assign(H.defaults,{space:!0,placement:"after",ariaHidden:!1});var b=T(H.renderPermalinkImpl);b.defaults=Object.assign({},H.defaults,{ariaHidden:!0});var V=T(function(a,e,o,n,t){var l=[Object.assign(new n.Token("link_open","a",1),{attrs:[].concat(e.class?[["class",e.class]]:[],[["href",e.renderHref(a,n)]],Object.entries(e.renderAttrs(a,n)))})].concat(e.safariReaderFix?[new n.Token("span_open","span",1)]:[],n.tokens[t+1].children,e.safariReaderFix?[new n.Token("span_close","span",-1)]:[],[new n.Token("link_close","a",-1)]);n.tokens[t+1]=Object.assign(new n.Token("inline","",0),{children:l})});Object.assign(V.defaults,{safariReaderFix:!1});var R=T(function(a,e,o,n,t){var l;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(e.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+e.style+"`");if(!["aria-describedby","aria-labelledby"].includes(e.style)&&!e.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+e.style+"` style");if(e.style==="visually-hidden"&&!e.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var s=n.tokens[t+1].children.filter(function(u){return u.type==="text"||u.type==="code_inline"}).reduce(function(u,d){return u+d.content},""),i=[],r=[];if(e.class&&r.push(["class",e.class]),r.push(["href",e.renderHref(a,n)]),r.push.apply(r,Object.entries(e.renderAttrs(a,n))),e.style==="visually-hidden"){if(i.push(Object.assign(new n.Token("span_open","span",1),{attrs:[["class",e.visuallyHiddenClass]]}),Object.assign(new n.Token("text","",0),{content:e.assistiveText(s)}),new n.Token("span_close","span",-1)),e.space){var p=typeof e.space=="string"?e.space:" ";i[v[e.placement]](Object.assign(new n.Token(typeof e.space=="string"?"html_inline":"text","",0),{content:p}))}i[v[e.placement]](Object.assign(new n.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new n.Token("html_inline","",0),{content:e.symbol,meta:S}),new n.Token("span_close","span",-1))}else i.push(Object.assign(new n.Token("html_inline","",0),{content:e.symbol,meta:S}));e.style==="aria-label"?r.push(["aria-label",e.assistiveText(s)]):["aria-describedby","aria-labelledby"].includes(e.style)&&r.push([e.style,a]);var c=[Object.assign(new n.Token("link_open","a",1),{attrs:r})].concat(i,[new n.Token("link_close","a",-1)]);(l=n.tokens).splice.apply(l,[t+3,0].concat(c)),e.wrapper&&(n.tokens.splice(t,0,Object.assign(new n.Token("html_block","",0),{content:e.wrapper[0]+`
`})),n.tokens.splice(t+3+c.length+1,0,Object.assign(new n.Token("html_block","",0),{content:e.wrapper[1]+`
`})))});function $(a,e,o,n){var t=a,l=n;if(o&&Object.prototype.hasOwnProperty.call(e,t))throw new Error("User defined `id` attribute `"+a+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(e,t);)t=a+"-"+l,l+=1;return e[t]=!0,t}function g(a,e){e=Object.assign({},g.defaults,e),a.core.ruler.push("anchor",function(o){for(var n,t={},l=o.tokens,s=Array.isArray(e.level)?(n=e.level,function(u){return n.includes(u)}):function(u){return function(d){return d>=u}}(e.level),i=0;i<l.length;i++){var r=l[i];if(r.type==="heading_open"&&s(Number(r.tag.substr(1)))){var p=e.getTokensText(l[i+1].children),c=r.attrGet("id");c=c==null?$(e.slugify(p),t,!1,e.uniqueSlugStartIndex):$(c,t,!0,e.uniqueSlugStartIndex),r.attrSet("id",c),e.tabIndex!==!1&&r.attrSet("tabindex",""+e.tabIndex),typeof e.permalink=="function"?e.permalink(c,e,o,i):(e.permalink||e.renderPermalink&&e.renderPermalink!==P)&&e.renderPermalink(c,e,o,i),i=l.indexOf(r),e.callback&&e.callback(r,{slug:c,title:p})}}})}Object.assign(R.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),g.permalink={__proto__:null,legacy:P,renderHref:L,renderAttrs:U,makePermalink:T,linkInsideHeader:H,ariaHidden:b,headerLink:V,linkAfterHeader:R},g.defaults={level:1,slugify:function(a){return encodeURIComponent(String(a).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(a){return a.filter(function(e){return["text","code_inline"].includes(e.type)}).map(function(e){return e.content}).join("")},permalink:!1,renderPermalink:P,permalinkClass:b.defaults.class,permalinkSpace:b.defaults.space,permalinkSymbol:"¶",permalinkBefore:b.defaults.placement==="before",permalinkHref:b.defaults.renderHref,permalinkAttrs:b.defaults.renderAttrs},g.default=g;function Z(a){return encodeURIComponent(String(a).trim().toLowerCase().replace(/\s+/g,"-"))}function m(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ee(a,e){var o;e=Object.assign({},{placeholder:"(\\$\\{toc\\}|\\[\\[?_?toc_?\\]?\\]|\\$\\<toc(\\{[^}]*\\})\\>)",slugify:Z,uniqueSlugStartIndex:1,containerClass:"table-of-contents",containerId:void 0,listClass:void 0,itemClass:void 0,linkClass:void 0,level:1,listType:"ol",format:void 0,callback:void 0},e);var n=new RegExp("^"+e.placeholder+"$","i");a.renderer.rules.tocOpen=function(t,l){var s=Object.assign({},e);return t&&l>=0&&(s=Object.assign(s,t[l].inlineOptions)),"<nav"+(s.containerId?' id="'+m(s.containerId)+'"':"")+' class="'+m(s.containerClass)+'">'},a.renderer.rules.tocClose=function(){return"</nav>"},a.renderer.rules.tocBody=function(t,l){var s=Object.assign({},e);t&&l>=0&&(s=Object.assign(s,t[l].inlineOptions));var i,r={},p=Array.isArray(s.level)?(i=s.level,function(c){return i.includes(c)}):function(c){return function(u){return u>=c}}(s.level);return function c(u){var d=s.listClass?' class="'+m(s.listClass)+'"':"",f=s.itemClass?' class="'+m(s.itemClass)+'"':"",y=s.linkClass?' class="'+m(s.linkClass)+'"':"";if(u.c.length===0)return"";var h="";return(u.l===0||p(u.l))&&(h+="<"+(m(s.listType)+d)+">"),u.c.forEach(function(k){p(k.l)?h+="<li"+f+"><a"+y+' href="#'+function(_){for(var j=_,F=s.uniqueSlugStartIndex;Object.prototype.hasOwnProperty.call(r,j);)j=_+"-"+F++;return r[j]=!0,j}(e.slugify(k.n))+'">'+(typeof s.format=="function"?s.format(k.n,m):m(k.n))+"</a>"+c(k)+"</li>":h+=c(k)}),(u.l===0||p(u.l))&&(h+="</"+m(s.listType)+">"),h}(o)},a.core.ruler.push("generateTocAst",function(t){o=function(l){for(var s={l:0,n:"",c:[]},i=[s],r=0,p=l.length;r<p;r++){var c=l[r];if(c.type==="heading_open"){var u=l[r+1].children.filter(function(f){return f.type==="text"||f.type==="code_inline"}).reduce(function(f,y){return f+y.content},""),d={l:parseInt(c.tag.substr(1),10),n:u,c:[]};if(d.l>i[0].l)i[0].c.push(d),i.unshift(d);else if(d.l===i[0].l)i[1].c.push(d),i[0]=d;else{for(;d.l<=i[0].l;)i.shift();i[0].c.push(d),i.unshift(d)}}}return s}(t.tokens),typeof e.callback=="function"&&e.callback(a.renderer.rules.tocOpen()+a.renderer.rules.tocBody()+a.renderer.rules.tocClose(),o)}),a.block.ruler.before("heading","toc",function(t,l,s,i){var r,p=t.src.slice(t.bMarks[l]+t.tShift[l],t.eMarks[l]).split(" ")[0];if(!n.test(p))return!1;if(i)return!0;var c=n.exec(p),u={};if(c!==null&&c.length===3)try{u=JSON.parse(c[2])}catch{}return t.line=l+1,(r=t.push("tocOpen","nav",1)).markup="",r.map=[l,t.line],r.inlineOptions=u,(r=t.push("tocBody","",0)).markup="",r.map=[l,t.line],r.inlineOptions=u,r.children=[],(r=t.push("tocClose","nav",-1)).markup="",!0},{alt:["paragraph","reference","blockquote"]})}const ne={class:"main"},te={class:"blog"},ae={class:"title"},se={class:"tag"},le={class:"date"},re=["innerHTML"],ie=W({__name:"BlogPage",setup(a){const e=new D({html:!0}).use(g,{permalink:!0,permalinkBefore:!0,permalinkSymbol:"#"}).use(ee,{level:[1,2,3]}),o=J(),n=I(()=>{const s=o.query.d;return Q.find(r=>r.data.date===s)||{}}),t=I(()=>{var i;return e.render("${toc}\n"+((i=n.value)==null?void 0:i.content))}),l=I(()=>N[o.query.type]);return window.scrollTo(0,0),(s,i)=>{var c,u,d,f,y,h;const r=M("el-breadcrumb-item"),p=M("el-breadcrumb");return q(),G("div",ne,[w("div",te,[A(p,{separator:"/"},{default:x(()=>[A(r,{to:{path:"/"}},{default:x(()=>[C("首页")]),_:1}),B(o).query.type?(q(),z(r,{key:0,to:{path:"/list",query:{type:B(o).query.type}}},{default:x(()=>[C(O(l.value),1)]),_:1},8,["to"])):K("",!0),A(r,null,{default:x(()=>{var k,_;return[C(O((_=(k=n.value)==null?void 0:k.data)==null?void 0:_.title),1)]}),_:1})]),_:1}),w("div",ae,[C(O((u=(c=n.value)==null?void 0:c.data)==null?void 0:u.title)+" ",1),w("span",se,O(B(N)[(f=(d=n.value)==null?void 0:d.data)==null?void 0:f.tag]),1)]),w("div",le,"创建于 "+O((h=(y=n.value)==null?void 0:y.data)==null?void 0:h.date),1),w("div",{innerHTML:t.value,class:"blog-md"},null,8,re)])])}}}),ce=X(ie,[["__scopeId","data-v-e4fa53e3"]]);export{ce as default};
